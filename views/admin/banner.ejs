<%- include('./layout/adminheader.ejs') %>
<%- include('./layout/adminsidebar.ejs') %>   

<main id="main" class="main">
  <div class="pagetitle">
    <h1></h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/admin/home">Home</a></li>
        <li class="breadcrumb-item active">Banner Management</li>
      </ol>
    </nav>
  </div>

<div class="card">
  <div class="card-body">
    <h5 class="card-title"> Add Banner</h5>

    <div class="container-fluid mb-3">
      <button type="button" class="btn btn-dark mb-2" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
        Add Banner
      </button>
    </div>
<!-- add product -->

<div class="modal fade " id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
aria-labelledby="staticBackdropLabel" aria-hidden="true">
<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="staticBackdropLabel">Add Banner</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
      <form action="/admin/adminbanner" method="post"  enctype="multipart/form-data">
        <div class="form-group">
          <label for="file-upload" class="form-label">Banner Text</label>

          <textarea type="text" placeholder="Banner Text" name="bannertext"> </textarea>
          <br>
          <label for="file-upload" class="form-label">Images to upload</label>
              <input class="form-control" type="file" id="file"
        onchange="return fileValidation()" name="image" accept="image/*" multiple >                    
        </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>


    </div>
  </div>
</div>
</div></div>






<div class="card mb-4">
  <% if(bannerData!=null) { %>

  <div class="card-body">
    
    <table  id="example" class="table table-striped   table-bordered text-center table-hove" style="width:100%">
      <thead  class="table-dark">
          <tr>
            <th>Banner Text</th>
              <th>Banner Image</th>
              <th>Status</th>
             
    
          </tr>
      </thead>

        <tbody>
          <% bannerData.forEach((item)=>{ %>
            <tr>
              <td>
                <%= item.bannertext%>
              </td>

              <td>
              
                <img src="/public/databaseimg/<%=item.image%>" alt="" width="25%">
              </td>
             
              <td>
                <% if(item.status==true) {%>
                  <a class="btn btn-warning btn-sm" href="/admin/imageblock?id=<%= item._id%>"
                    role="button">Block</a>
                  <%}else{%>
                    <a class="btn btn-success btn-sm" href="/admin/imageblock?id=<%= item._id%>"
                      role="button">Unblock</a>
                    <%}%>
              </td>

            </tr>
            <%})%>
        </tbody>
      </table>
      <%}%>
</div>

</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
<script src="/public/assets/demo/chart-area-demo.js"></script>
<script src="/public/assets/demo/chart-bar-demo.js"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
<script src="/public/javascript/js/datatables-simple-demo.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/public/javascript/js/scripts.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
<script src="/public/assets/demo/chart-area-demo.js"></script>
<script src="/public/assets/demo/chart-bar-demo.js"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
<script src="/public/javascript/js/datatables-simple-demo.js"></script>
</body>
<script>
function fileValidation() {
var fileInput =
document.getElementById('file');

var filePath = fileInput.value;

// Allowing file type
var allowedExtensions =
/(\.jpg|\.jpeg|\.png)$/i;

if (!allowedExtensions.exec(filePath)) {
alert('Invalid file type');
fileInput.value = '';
return false;
}
}
</script>



<script>
$(document).ready(function () {
var table = $('#example').DataTable({
rowReorder: {
selector: 'td:nth-child(2)'
},
responsive: true
});
});
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</html>







  


</tbody>

</table>

             
    </div>
  </div>
 <!-- Right side columns -->
 <div class="col-lg-4">
</div><!-- End Right side columns -->
</div>
</section>
</main><!-- End #main -->
<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
<!-- Vendor JS Files -->
<script src="/public/assets/vendor/apexcharts/apexcharts.min.js"></script>
<script src="/public/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/public/assets/vendor/chart.js/chart.umd.js"></script>
<script src="/public/assets/vendor/echarts/echarts.min.js"></script>
<script src="/public/assets/vendor/quill/quill.min.js"></script>
<script src="/public/assets/vendor/simple-datatables/simple-datatables.js"></script>
<script src="/public/assets/vendor/tinymce/tinymce.min.js"></script>
<script src="/public/assets/vendor/php-email-form/validate.js"></script>
<!-- Template Main JS File -->
<script src="/public/assets/js/main.js"></script>
</body>
<script>
  $(document).ready(function () {
    var table = $('#example').DataTable({
      rowReorder: {
        selector: 'td:nth-child(2)'
      },
      responsive: true
    });
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>


</html>